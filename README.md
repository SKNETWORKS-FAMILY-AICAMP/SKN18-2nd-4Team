# SKN18-1st-4Team

## 1. 프로젝트 개요

### 1.1 프로젝트 목적
- 일반 소비자에게 친환경 자동차 구매의 필요성과 장점을 시각적으로 전달
- 친환경 자동차 보조금 현황 및 지원 정보 제공
- 현대자동차와 기아자동차의 FAQ 정보 제공

### 1.2 기술 스택
- **프론트엔드**: Streamlit (Python)
- **데이터베이스**: MySQL (DBeaver 연동)
- **데이터 시각화**: Plotly, Matplotlib
- **프로젝트 구조**: 모듈화된 유틸리티 구조

## 2. 시스템 아키텍처

### 2.1 폴더 구조
```
SKN18-1st-4Team
├── app.py                 # 메인 애플리케이션 (1페이지)
├── money.py          # 보조금 정보 페이지 (2페이지)
├── FAQ.py            # 기업 FAQ 페이지 (3페이지)
├── utilities/
│   ├── app_utility.py     # 1페이지 유틸리티
│   └── money_utility.py   # 2페이지 유틸리티
│   └── faq_utility.py     # faq 페이지 유틸리티
├── database/
│   └── database.py        # 데이터베이스 연결 및 쿼리
└── README.md
```

### 2.2 데이터베이스 구조
- **데이터베이스명**: car
- **주요 테이블**:
  - `electronic_car`: 전기차 정보 (국가보조금, 지자체보조금) 테이블 
  - `hydrogen_car`: 수소차 정보 (지원금) 테이블
  - `environmental_vehicles` : 친환경 자동차 연도별 데이터 테이블 (수소차,전기차,하이브리드, 합계)
  - `greenhouse_gases` - 온실가스 배출량 관련 테이블
  - `faq` - faq 질문들 테이블
  
  

## 3. 페이지별 상세 기획

### 3.1 1페이지: 메인 대시보드 (app.py)

#### 3.1.1 탭 1: 자동차 등록 현황 분석

##### 3.1.1.1 드롭다운 1: 전체
**기능**: Dual Axis Chart (이중 축 그래프) - 모든 차종 표시

- **첫 번째 그래프 (선그래프)**:
  - X축: 2020년~2024년
  - Y축(왼쪽): 전체 자동차 등록대수,
  - 데이터 소스: car database의 environmental_vehicles 테이블에서 연도별 전체 차량 등록 합계 사용
  - 시각화: 파란색 선그래프, 마커 포함, 증가 추세 표시

- **두 번째 그래프 (스택형 막대그래프)**:
  - X축: 2020년~2024년
  - Y축(오른쪽): 친환경 자동차 등록대수, 범위 0~3,000,000대
  - 스택 구성: 하이브리드(보라색) + 수소차(빨간색) + 전기차(주황색)
  - 호버 기능: 각 차종별 등록대수와 친환경차 대비 비율(%) 표시
  - 데이터 소스: car database의 environmental_vehicles 테이블에서 전기차, 수소차, 하이브리드 데이터 사용

- **통계 정보 표시**:
  - 2024년 전체 등록대수: 26,297,919대
  - 2024년 친환경차 등록대수: 2,746,655대
  - 친환경차 비율: 10.4%

##### 3.1.1.2 드롭다운 2: 전기차
**기능**: 막대대 그래프 - 전기차 하이라이트


- **전기차 상세 정보 섹션**:
  - **상세 그래프 (막대그래프)**:
    - X축: 2020년~2024년
    - Y축: 전기차 비율  (여기서 전기차 비율=전기차/친환경 전체), max=40%
    - 시각화: 빨간색 막대그래프, 연도별 증가 추세 표시
  - **통계 정보**:
    - 2024년 전기차 등록대수: 684,244대
    - 2020년 대비 증가율: 407.0%
    - 전기차 비율: 24.9%

##### 3.1.1.3 드롭다운 3: 수소차
**기능**: 막대그래프프 - 수소차 하이라이트트

- **수소차 상세 정보 섹션**:
  - **상세 그래프 (막대그래프)**:
    - X축: 2020년~2024년
    - Y축: 수소차 비율  (여기서 수소차 비율=수소소차/친환경 전체) , max=5%
    - 시각화: 빨간색 막대그래프, 연도별 변화 표시
  - **통계 정보**:
    - 2024년 수소차 등록대수
    - 2020년 대비 증가율
    - 수소차 비율

##### 3.1.1.4 드롭다운 4: 하이브리드
**기능**: 막대그래프 - 하이브리드 하이라이트

- **하이브리드 상세 정보 섹션**:
  - **상세 그래프 (막대그래프)**:
    - X축: 2020년~2024년
    - Y축: 하이브리드 비율  (여기서 하이브리드 비율=하이브리드/친환경 전체), max=80%
    - 시각화: 빨간색 막대그래프, 연도별 변화 표시
  - **통계 정보**:
    - 2024년 하이브리드 등록대수
    - 2020년 대비 증가율
    - 하이브리드 비율




#### 3.1.2 탭 2: 환경 영향 분석
**기능**: Dual Axis Chart + 지역별 온실가스 배출량 분석

- **첫 번째 그래프 (선그래프)**:
  - X축: 2020년~2024년
  - Y축(오른쪽): 온실가스 배출량
  - 시각화: 빨간색 선그래프, 마커 포함

- **두 번째 그래프 (막대그래프)**:
  - X축: 2020년~2024년
  - Y축(왼쪽): 전체 자동차 대비 친환경 자동차 비율 (%)
  - Y축 범위: 0~20%
  - 시각화: 연한 초록색 막대그래프

- **지역별 온실가스 배출량 분석**:
  - 2022년 기준 지역별 총 온실가스 배출량 막대그래프
  - 지역별 배출량 순위 표 (단위: 톤CO₂)
  - 차종별 배출량 분석: 승용, 승합, 화물, 특수 차량별 총 배출량


### 3.2 2페이지: 보조금 정보 (money.py)

#### 3.2.1 탭 1: 공고 현황 분석
**기능**: 스택형 막대그래프 + 지역별 현황 표

- **스택형 막대그래프**:
  - X축: 연도 (2020년~2024년)
  - Y축: 민간공고대수 (전체 막대 높이)
  - 스택 구성:
    ▸ 출고대수(초록색): 민간공고대수 중 실제 출고된 수량
    ▸ 출고잔여대수(빨간색): 출고되지 않은 잔여 수량
  - 호버 기능: 출고대수/잔여대수와 민간공고대수 대비 비율(%) 표시
  - 데이터 소스: car database의 electronic_car 테이블

- **2024년 기준 지역별 공고대수 현황 표**:
  - 컬럼: 지역, 민간공고대수, 출고잔여대수
  - 통계 정보: 총 민간공고대수, 총 출고잔여대수, 잔여 비율(%)

#### 3.2.2 탭 2: 보조금 정보
**기능**: 보조금 정보 표 + 자동차모델 TOP5

- **2024년 1대당 지원금 표**:
  - 차종 선택: 전기차, 수소차 드롭다운
  - 전기차: 국가보조금, 지자체보조금 정보 (electronic_car 테이블)
  - 수소차: 지원금 정보 (hydrogen_car 테이블)

- **자동차모델 TOP5**:
  - 지역 선택: 전체 + 실제 지역 목록 드롭다운
  - 컬럼: 순위, 지역, 자동차 모델명
  - 기준: 보조금 지원 금액이 큰 순서
  - 지역별 보조금 지원 금액 상위 5개 모델 표시

#### 3.2.3 탭 3: 지역별 정책 활용 현황
**기능**: 인터랙티브 지도 시각화

- **연도 선택**: 데이터베이스에서 사용 가능한 연도 선택
- **지도 시각화**: 
  - GeoJSON 기반 한국 지도
  - 지역별 정책활용도(%) 색상 구분
  - 호버 정보: 지역, 민간공고대수, 출고잔여대수, 정책활용도(%)
- **정책활용도 계산**: (출고대수 / 민간공고대수) × 100
- **색상 범위**: 0~100% (높을수록 진한 색상)

### 3.3 3페이지: 기업 FAQ (FAQ.py)
**기능**: 카테고리별 FAQ 검색 및 페이지네이션

- **검색 기능**:
  - 텍스트 검색: FAQ 질문/답변 내용 검색
  - 실시간 필터링: 검색어 입력 시 해당 내용 포함 FAQ만 표시

- **카테고리 분류**:
  - 2행 4열 그리드 레이아웃으로 카테고리 버튼 배치
  - 카테고리 선택 시 해당 분야 FAQ만 표시
  - 선택된 카테고리 하이라이트 표시

- **FAQ 표시 방식**:
  - 아코디언 형식: 질문 클릭 시 답변 표시
  - TOP 10 카테고리: 페이지네이션 없이 모든 항목 표시
  - 기타 카테고리: 페이지당 5개 항목, 페이지네이션 적용

- **페이지네이션 기능**:
  - 이전/다음 페이지 이동
  - 처음/마지막 페이지 이동
  - 현재 페이지/전체 페이지 표시
  - 총 FAQ 개수 및 현재 표시 범위 표시

- **데이터 소스**: car database의 faq 테이블

## 4. 사용자 인터페이스 설계

### 4.1 네비게이션
- **위치**: 화면 왼쪽 사이드바
- **구성**: 페이지명 클릭으로 페이지 이동
- **페이지 목록**:
  1. 메인 대시보드 (app.py)
  2. 보조금 정보 (pages/money.py)
  3. 기업 FAQ (pages/FAQ.py)

### 4.2 페이지 구조
- **메인 대시보드**: 탭 기반 구조 (자동차 등록 현황 분석, 환경 영향 분석)
- **보조금 정보**: 탭 기반 구조 (공고 현황 분석, 보조금 정보, 지역별 정책 활용 현황)
- **기업 FAQ**: 카테고리 그리드 + 검색 + 페이지네이션 구조

### 4.3 레이아웃
- **반응형 디자인**: 다양한 화면 크기 지원
- **일관된 UI**: Streamlit 기본 컴포넌트 활용
- **직관적 사용성**: 탭과 드롭다운을 통한 쉬운 화면 전환
- **시각적 피드백**: 호버 효과, 색상 구분, 하이라이트 기능

## 5. 데이터 요구사항

### 5.1 필수 데이터
- **자동차 등록 현황**: environmental_vehicles 테이블 (2020-2024)
  - 전체 자동차 등록대수, 전기차, 수소차, 하이브리드 등록대수
- **온실가스 배출량**: greenhouse_gases 테이블 (2020-2024)
  - 연도별 온실가스 배출량, 지역별 차종별 배출량
- **보조금 정보**: 
  - electronic_car 테이블: 전기차 국가/지자체 보조금
  - hydrogen_car 테이블: 수소차 지원금
- **공고 및 출고 현황**: electronic_car 테이블
  - 연도별/지역별 민간공고대수, 출고대수, 출고잔여대수
- **FAQ 정보**: faq 테이블
  - 카테고리별 질문과 답변

### 5.2 데이터 소스
- **주 데이터베이스**: car
- **연동 도구**: DBeaver
- **데이터 형식**: MySQL

## 6. 개발 우선순위

### 6.1 Phase 1 (완료)
1. ✅ 데이터베이스 연결 및 기본 구조 설정
2. ✅ 1페이지 메인 대시보드 구현 (Dual Axis Chart, 차종별 하이라이트)
3. ✅ 기본 네비게이션 구현

### 6.2 Phase 2 (완료)
1. ✅ 2페이지 보조금 정보 구현 (스택형 막대그래프, 보조금 표, TOP5 모델)
2. ✅ 데이터 시각화 최적화 (호버 기능, 색상 구분)
3. ✅ 사용자 인터페이스 개선 (탭 구조, 드롭다운)

### 6.3 Phase 3 (완료)
1. ✅ 3페이지 FAQ 통합 (카테고리별 검색, 페이지네이션)
2. ✅ 전체 시스템 테스트
3. ✅ 성능 최적화

### 6.4 추가 구현 사항
1. ✅ 지역별 정책 활용 현황 지도 시각화
2. ✅ 환경 영향 분석 (지역별 온실가스 배출량)
3. ✅ 인터랙티브 기능 (하이라이트, 호버, 검색)


## 7. 성공 지표

### 7.1 기술적 지표
- 페이지 로딩 시간 < 3초
- 데이터베이스 쿼리 응답 시간 < 1초
- 99% 이상의 시스템 가동률

### 7.2 사용자 경험 지표
- 사용자 만족도 4.0/5.0 이상
- 평균 세션 시간 5분 이상
- 페이지 이탈률 30% 이하
